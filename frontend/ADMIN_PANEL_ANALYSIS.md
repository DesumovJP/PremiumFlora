# Premium Flora - –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å: –ü–æ–≤–Ω–∏–π —Ç–µ—Ö–Ω—ñ—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑

**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:** 2025-12-26
**–í–µ—Ä—Å—ñ—è –∞–Ω–∞–ª—ñ–∑—É:** 2.0
**–ê–≤—Ç–æ—Ä:** Claude Code Analysis

---

## –ó–º—ñ—Å—Ç

1. [–û–≥–ª—è–¥ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏](#1-–æ–≥–ª—è–¥-–∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏)
2. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤](#2-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-—Ñ–∞–π–ª—ñ–≤)
3. [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —Ç–∞ —Å–µ–∫—Ü—ñ—ó](#3-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏-—Ç–∞-—Å–µ–∫—Ü—ñ—ó)
4. [API —Ç–∞ –ø–æ—Ç—ñ–∫ –¥–∞–Ω–∏—Ö](#4-api-—Ç–∞-–ø–æ—Ç—ñ–∫-–¥–∞–Ω–∏—Ö)
5. [–°—Ç–∞—Ç—É—Å –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º](#5-—Å—Ç–∞—Ç—É—Å-–≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å-–∫—Ä–∏—Ç–∏—á–Ω–∏—Ö-–ø—Ä–æ–±–ª–µ–º)
6. [–ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ](#6-–ø–æ—Ç–æ—á–Ω–∏–π-—Å—Ç–∞–Ω-—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ)
7. [–ó–∞–ª–∏—à–∫–æ–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏ —Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó](#7-–∑–∞–ª–∏—à–∫–æ–≤—ñ-–ø—Ä–æ–±–ª–µ–º–∏-—Ç–∞-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó)
8. [–ë–µ–∑–ø–µ–∫–∞](#8-–±–µ–∑–ø–µ–∫–∞)
9. [–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø–µ—Ä–µ–¥ —Ä–µ–ª—ñ–∑–æ–º](#9-—Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è-–ø–µ—Ä–µ–¥-—Ä–µ–ª—ñ–∑–æ–º)
10. [–ü—ñ–¥—Å—É–º–æ–∫ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ –¥–æ –ø—Ä–æ–¥–∞–∫—à–Ω—É](#10-–ø—ñ–¥—Å—É–º–æ–∫-–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ-–¥–æ-–ø—Ä–æ–¥–∞–∫—à–Ω—É)

---

## 1. –û–≥–ª—è–¥ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏

### –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫

**Frontend:**
- Next.js 14 (App Router)
- React 18 –∑ Server/Client Components
- TypeScript –¥–ª—è —Ç–∏–ø—ñ–∑–∞—Ü—ñ—ó
- Tailwind CSS –¥–ª—è —Å—Ç–∏–ª—ñ–∑–∞—Ü—ñ—ó
- Radix UI –¥–ª—è –±–∞–∑–æ–≤–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤
- GraphQL (graphql-request) –¥–ª—è –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ Strapi

**Backend:**
- Strapi v5 (Headless CMS)
- PostgreSQL (—á–µ—Ä–µ–∑ Railway)
- GraphQL plugin –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π
- REST API –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–∏—Ö –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤ (POS, Analytics, Import)
- DigitalOcean Spaces –¥–ª—è –∑–æ–±—Ä–∞–∂–µ–Ω—å

### –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∞ –¥—ñ–∞–≥—Ä–∞–º–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        Frontend (Next.js)                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê             ‚îÇ
‚îÇ  ‚îÇ admin-client‚îÇ  ‚îÇ  sections/  ‚îÇ  ‚îÇ   hooks/    ‚îÇ             ‚îÇ
‚îÇ  ‚îÇ    .tsx     ‚îÇ‚îÄ‚îÄ‚îÇ (6 —Å–µ–∫—Ü—ñ–π)  ‚îÇ‚îÄ‚îÄ‚îÇ (7 —Ö—É–∫—ñ–≤)   ‚îÇ             ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò             ‚îÇ
‚îÇ         ‚îÇ                ‚îÇ                ‚îÇ                      ‚îÇ
‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                      ‚îÇ
‚îÇ                          ‚ñº                                       ‚îÇ
‚îÇ              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                            ‚îÇ
‚îÇ              ‚îÇ    lib/strapi.ts    ‚îÇ                            ‚îÇ
‚îÇ              ‚îÇ  (API –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—è)   ‚îÇ                            ‚îÇ
‚îÇ              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                            ‚îÇ
‚îÇ                          ‚îÇ                                       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                          ‚ñº                                       ‚îÇ
‚îÇ     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                ‚îÇ
‚îÇ     ‚îÇ              GraphQL + REST               ‚îÇ                ‚îÇ
‚îÇ     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                          ‚ñº                                       ‚îÇ
‚îÇ                   Backend (Strapi v5)                           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê             ‚îÇ
‚îÇ  ‚îÇ Controllers ‚îÇ  ‚îÇ  Services   ‚îÇ  ‚îÇ   Models    ‚îÇ             ‚îÇ
‚îÇ  ‚îÇ  (10+)      ‚îÇ‚îÄ‚îÄ‚îÇ (POS, etc)  ‚îÇ‚îÄ‚îÄ‚îÇ (6 –∫–æ–ª–µ–∫—Ü—ñ–π)‚îÇ             ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò             ‚îÇ
‚îÇ                          ‚îÇ                                       ‚îÇ
‚îÇ                          ‚ñº                                       ‚îÇ
‚îÇ              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                            ‚îÇ
‚îÇ              ‚îÇ     PostgreSQL      ‚îÇ                            ‚îÇ
‚îÇ              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

### Frontend

```
frontend/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îî‚îÄ‚îÄ admin/
‚îÇ       ‚îú‚îÄ‚îÄ page.tsx              # Server Component - —Ç–æ—á–∫–∞ –≤—Ö–æ–¥—É
‚îÇ       ‚îú‚îÄ‚îÄ layout.tsx            # Auth –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ + metadata
‚îÇ       ‚îú‚îÄ‚îÄ admin-client.tsx      # ~750 —Ä—è–¥–∫—ñ–≤ - –≥–æ–ª–æ–≤–Ω–∏–π –∫–ª—ñ—î–Ω—Ç
‚îÇ       ‚îî‚îÄ‚îÄ login/
‚îÇ           ‚îî‚îÄ‚îÄ page.tsx          # –§–æ—Ä–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ sections/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pos-section.tsx       # ~700 —Ä—è–¥–∫—ñ–≤ - POS —Ç–µ—Ä–º—ñ–Ω–∞–ª
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ products-section.tsx  # ~1900 —Ä—è–¥–∫—ñ–≤ - –¢–æ–≤–∞—Ä–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ clients-section.tsx   # ~780 —Ä—è–¥–∫—ñ–≤ - –ö–ª—ñ—î–Ω—Ç–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analytics-section.tsx # ~500 —Ä—è–¥–∫—ñ–≤ - –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ history-section.tsx   # ~620 —Ä—è–¥–∫—ñ–≤ - –Ü—Å—Ç–æ—Ä—ñ—è –∑–º—ñ–Ω–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ todo-section.tsx      # ~940 —Ä—è–¥–∫—ñ–≤ - –ó–∞–≤–¥–∞–Ω–Ω—è
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ import-modal.tsx      # Excel —ñ–º–ø–æ—Ä—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ planned-supply-modal.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ modal.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ alert-toast.tsx
‚îÇ   ‚îî‚îÄ‚îÄ layout/
‚îÇ       ‚îú‚îÄ‚îÄ sidebar.tsx
‚îÇ       ‚îî‚îÄ‚îÄ header.tsx
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îú‚îÄ‚îÄ use-activity-log.ts       # ~240 —Ä—è–¥–∫—ñ–≤ - –Ü—Å—Ç–æ—Ä—ñ—è –¥—ñ–π
‚îÇ   ‚îú‚îÄ‚îÄ use-alerts.ts             # –¢–æ—Å—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
‚îÇ   ‚îú‚îÄ‚îÄ use-customers.ts          # CRUD –∫–ª—ñ—î–Ω—Ç—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ use-flowers.ts            # CRUD —Ç–æ–≤–∞—Ä—ñ–≤
‚îÇ   ‚îî‚îÄ‚îÄ use-transactions.ts       # –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ strapi.ts                 # ~1200 —Ä—è–¥–∫—ñ–≤ - API –º–æ–¥—É–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ types.ts                  # –¢–∏–ø–∏
‚îÇ   ‚îú‚îÄ‚îÄ api-types.ts              # API —Ç–∏–ø–∏
‚îÇ   ‚îú‚îÄ‚îÄ auth.ts                   # JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
‚îÇ   ‚îú‚îÄ‚îÄ graphql/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ client.ts             # GraphQL –∫–ª—ñ—î–Ω—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ queries.ts            # GraphQL –∑–∞–ø–∏—Ç–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mutations.ts          # GraphQL –º—É—Ç–∞—Ü—ñ—ó
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types.ts              # GraphQL —Ç–∏–ø–∏
‚îÇ   ‚îî‚îÄ‚îÄ export.ts                 # Excel –µ–∫—Å–ø–æ—Ä—Ç
```

### Backend (Strapi)

```
backend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ api/
‚îÇ       ‚îú‚îÄ‚îÄ flower/               # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π Strapi CRUD
‚îÇ       ‚îú‚îÄ‚îÄ variant/              # –í–∞—Ä—ñ–∞–Ω—Ç–∏ –∫–≤—ñ—Ç—ñ–≤
‚îÇ       ‚îú‚îÄ‚îÄ customer/             # –ö–ª—ñ—î–Ω—Ç–∏
‚îÇ       ‚îú‚îÄ‚îÄ transaction/          # –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó
‚îÇ       ‚îú‚îÄ‚îÄ task/                 # –ó–∞–≤–¥–∞–Ω–Ω—è (TODO)
‚îÇ       ‚îú‚îÄ‚îÄ shift/                # –†–æ–±–æ—á—ñ –∑–º—ñ–Ω–∏
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ controllers/shift.ts
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ routes/shift.ts
‚îÇ       ‚îú‚îÄ‚îÄ pos/                  # POS –æ–ø–µ—Ä–∞—Ü—ñ—ó
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ controllers/pos.ts
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ services/pos.ts       # ~680 —Ä—è–¥–∫—ñ–≤ - –∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è–º–∏ –ë–î
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ middlewares/pos-auth.ts
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ routes/pos.ts
‚îÇ       ‚îú‚îÄ‚îÄ analytics/            # –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ controllers/analytics.ts
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ services/analytics.ts
‚îÇ       ‚îú‚îÄ‚îÄ import/               # Excel —ñ–º–ø–æ—Ä—Ç
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ controllers/import.ts
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ routes/import.ts
‚îÇ       ‚îî‚îÄ‚îÄ planned-supply/       # –ó–∞–ø–ª–∞–Ω–æ–≤–∞–Ω—ñ –ø–æ—Å—Ç–∞–≤–∫–∏
‚îî‚îÄ‚îÄ config/
    ‚îú‚îÄ‚îÄ database.ts
    ‚îú‚îÄ‚îÄ plugins.ts
    ‚îî‚îÄ‚îÄ middlewares.ts
```

---

## 3. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —Ç–∞ —Å–µ–∫—Ü—ñ—ó

### 3.1 AdminClient (admin-client.tsx)

**–ì–æ–ª–æ–≤–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç** - –æ—Ä–∫–µ—Å—Ç—Ä—É—î –≤—Å—ñ —Å–µ–∫—Ü—ñ—ó —Ç–∞ —Å—Ç–∞–Ω.

**–ö–ª—é—á–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:**
- `handleCheckout()` - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ–¥–∞–∂—É –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é stock
- `handleWriteOff()` - —Å–ø–∏—Å–∞–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤
- `handleAddCustomer()` / `handleDeleteCustomer()` - CRUD –∫–ª—ñ—î–Ω—Ç—ñ–≤
- `handleCloseShift()` - –∑–∞–∫—Ä–∏—Ç—Ç—è —Ä–æ–±–æ—á–æ—ó –∑–º—ñ–Ω–∏
- `addToCart()` - –¥–æ–¥–∞–≤–∞–Ω–Ω—è –¥–æ –∫–æ—à–∏–∫–∞ **–∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é stock** ‚úÖ

```typescript
// –í–∞–ª—ñ–¥–∞—Ü—ñ—è stock –ø—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ –¥–æ –∫–æ—à–∏–∫–∞ (admin-client.tsx:381-405)
const addToCart = (product: Product, variant: Variant) => {
  const currentInCart = cart.find((line) => line.id === id)?.qty || 0;
  const availableToAdd = variant.stock - currentInCart;

  if (availableToAdd <= 0) {
    showWarning("–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –Ω–∞ —Å–∫–ª–∞–¥—ñ", `...`);
    return;
  }

  if (addQty > availableToAdd) {
    addQty = availableToAdd;
    showWarning("–î–æ–¥–∞–Ω–æ –∑–∞–ª–∏—à–æ–∫", `...`);
  }
  // ... –¥–æ–¥–∞–≤–∞–Ω–Ω—è –¥–æ –∫–æ—à–∏–∫–∞
};
```

### 3.2 PosSection (pos-section.tsx)

**POS —Ç–µ—Ä–º—ñ–Ω–∞–ª** - —à–≤–∏–¥–∫–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω—å.

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:**
- –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∫–∞—Ç–∞–ª–æ–≥—É —Ç–æ–≤–∞—Ä—ñ–≤ —É grid-–≤–∏–≥–ª—è–¥—ñ
- –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–∞ –ø–æ—à—É–∫–æ–º
- –ö–æ—à–∏–∫ –∑ –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è–º –ø–æ–∑–∏—Ü—ñ–π –∑–∞ –Ω–∞–∑–≤–æ—é
- –í–∏–±—ñ—Ä –∫–ª—ñ—î–Ω—Ç–∞ (–º–æ–¥–∞–ª–∫–∞ –¥–ª—è >5 –∫–ª—ñ—î–Ω—Ç—ñ–≤)
- –°—Ç–∞—Ç—É—Å –æ–ø–ª–∞—Ç–∏ (paid/expected)
- –ö–æ–º–µ–Ω—Ç–∞—Ä –¥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è

### 3.3 ProductsSection (products-section.tsx)

**–ù–∞–π–±—ñ–ª—å—à–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç** - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–æ–≤–∞—Ä–∞–º–∏.

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:**
- –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä—ñ–≤ –∑ –≤–∞—Ä—ñ–∞–Ω—Ç–∞–º–∏
- –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤
- –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è (–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è, –æ–ø–∏—Å, –≤–∞—Ä—ñ–∞–Ω—Ç–∏)
- –í–∏–¥–∞–ª–µ–Ω–Ω—è –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤
- –°–ø–∏—Å–∞–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤
- Excel —ñ–º–ø–æ—Ä—Ç

### 3.4 ClientsSection (clients-section.tsx)

**–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞–º–∏.**

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:**
- –°–ø–∏—Å–æ–∫ –∫–ª—ñ—î–Ω—Ç—ñ–≤ –∑ –ø–æ—à—É–∫–æ–º
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–º–æ–≤–ª–µ–Ω—å, –≤–∏—Ç—Ä–∞—á–µ–Ω–æ, –æ—Å—Ç–∞–Ω–Ω—î –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- –ú–æ–¥–∞–ª–∫–∞ –∑ —ñ—Å—Ç–æ—Ä—ñ—î—é –∑–∞–º–æ–≤–ª–µ–Ω—å –∫–ª—ñ—î–Ω—Ç–∞
- –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤
- –í–∏–¥–∞–ª–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç—ñ–≤
- –ï–∫—Å–ø–æ—Ä—Ç –≤ Excel
- –Ü–Ω–¥–∏–∫–∞—Ç–æ—Ä –æ—á—ñ–∫—É–≤–∞–Ω–∏—Ö –æ–ø–ª–∞—Ç

### 3.5 HistorySection (history-section.tsx)

**–Ü—Å—Ç–æ—Ä—ñ—è —Ä–æ–±–æ—á–æ—ó –∑–º—ñ–Ω–∏** –∑ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—î—é –º—ñ–∂ –ø—Ä–∏—Å—Ç—Ä–æ—è–º–∏.

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:**
- –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö –¥—ñ–π –∑–∞ –∑–º—ñ–Ω—É
- –ü—ñ–¥—Å—É–º–æ–∫: –ø—Ä–æ–¥–∞–∂—ñ, —Å–ø–∏—Å–∞–Ω–Ω—è, –Ω–æ–≤—ñ –∫–ª—ñ—î–Ω—Ç–∏
- Polling –∫–æ–∂–Ω—ñ 30 —Å–µ–∫—É–Ω–¥ –¥–ª—è multi-device sync
- –ó–∞–∫—Ä–∏—Ç—Ç—è –∑–º—ñ–Ω–∏ –∑ –∞—Ä—Ö—ñ–≤—É–≤–∞–Ω–Ω—è–º
- –ï–∫—Å–ø–æ—Ä—Ç –∑–º—ñ–Ω–∏ –≤ Excel

### 3.6 TodoSection (todo-section.tsx)

**–°–∏—Å—Ç–µ–º–∞ –∑–∞–≤–¥–∞–Ω—å** - –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è —Ç–∞ –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è.

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:**
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è/—Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è/–≤–∏–¥–∞–ª–µ–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å
- –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó: –î–æ—Å—Ç–∞–≤–∫–∞, –ü–æ—Å—Ç–∞–≤–∫–∞, –û–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è, –ó—É—Å—Ç—Ä—ñ—á, –Ü–Ω—à–µ
- –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∏: –í–∏—Å–æ–∫–∏–π, –°–µ—Ä–µ–¥–Ω—ñ–π, –ù–∏–∑—å–∫–∏–π
- –°—Ç–∞—Ç—É—Å–∏: –û—á—ñ–∫—É—î, –í —Ä–æ–±–æ—Ç—ñ, –í–∏–∫–æ–Ω–∞–Ω–æ, –°–∫–∞—Å–æ–≤–∞–Ω–æ
- –ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è
- –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—î—é —Ç–∞ —Å—Ç–∞—Ç—É—Å–æ–º
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –≤–∏–∫–æ–Ω–∞–Ω–æ, –≤ —Ä–æ–±–æ—Ç—ñ, –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ, –ø—Ä–æ—Å—Ç—Ä–æ—á–µ–Ω–æ

---

## 4. API —Ç–∞ –ø–æ—Ç—ñ–∫ –¥–∞–Ω–∏—Ö

### 4.1 REST API –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏

| –ï–Ω–¥–ø–æ—ñ–Ω—Ç | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å | –ó–∞—Ö–∏—Å—Ç |
|----------|-------|------|--------|
| `/api/pos/sales` | POST | –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–æ–¥–∞–∂ | `pos-auth` middleware ‚úÖ |
| `/api/pos/write-offs` | POST | –°–ø–∏—Å–∞–Ω–Ω—è | `pos-auth` middleware ‚úÖ |
| `/api/pos/transactions/:id/confirm-payment` | PUT | –ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –æ–ø–ª–∞—Ç—É | `pos-auth` middleware ‚úÖ |
| `/api/shifts/current` | GET | –ü–æ—Ç–æ—á–Ω–∞ –∑–º—ñ–Ω–∞ | –ü—É–±–ª—ñ—á–Ω–∏–π |
| `/api/shifts/current/activity` | POST | –î–æ–¥–∞—Ç–∏ –¥—ñ—é | Auth |
| `/api/shifts/close` | POST | –ó–∞–∫—Ä–∏—Ç–∏ –∑–º—ñ–Ω—É | Auth |
| `/api/analytics/dashboard` | GET | –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ | –ü—É–±–ª—ñ—á–Ω–∏–π |
| `/api/imports/excel` | POST | –Ü–º–ø–æ—Ä—Ç Excel | Auth |
| `/api/planned-supply/low-stock` | GET | –ù–∏–∑—å–∫—ñ –∑–∞–ª–∏—à–∫–∏ | –ü—É–±–ª—ñ—á–Ω–∏–π |

### 4.2 –ü–æ—Ç—ñ–∫ –¥–∞–Ω–∏—Ö –ø—Ä–∏ –ø—Ä–æ–¥–∞–∂—É

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         FRONTEND                                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞—Ç–∏—Å–∫–∞—î "–û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è"                   ‚îÇ
‚îÇ  2. handleCheckout() –≤ admin-client.tsx                         ‚îÇ
‚îÇ  3. generateOperationId() - —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π ID –¥–ª—è —ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—ñ   ‚îÇ
‚îÇ  4. createSale() –≤ lib/strapi.ts                                ‚îÇ
‚îÇ                          ‚îÇ                                       ‚îÇ
‚îÇ                          ‚ñº                                       ‚îÇ
‚îÇ         POST /api/pos/sales                                     ‚îÇ
‚îÇ         {                                                        ‚îÇ
‚îÇ           operationId: "550e8400-e29b-...",                     ‚îÇ
‚îÇ           customerId: "abc123",                                  ‚îÇ
‚îÇ           items: [...],                                          ‚îÇ
‚îÇ           discount: 0,                                           ‚îÇ
‚îÇ           paymentStatus: "expected"                              ‚îÇ
‚îÇ         }                                                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                          ‚ñº                                       ‚îÇ
‚îÇ                    BACKEND (Strapi)                              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  POS Service (pos.ts)                                           ‚îÇ
‚îÇ  ‚îÇ                                                               ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ 1. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—ñ (–ø–æ–∑–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—î—é)           ‚îÇ
‚îÇ  ‚îÇ                                                               ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ 2. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–ª—ñ—î–Ω—Ç–∞                                       ‚îÇ
‚îÇ  ‚îÇ                                                               ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ 3. –í–∞–ª—ñ–¥–∞—Ü—ñ—è stock (–ø–æ–ø–µ—Ä–µ–¥–Ω—è)                             ‚îÇ
‚îÇ  ‚îÇ                                                               ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ 4. KNEX TRANSACTION ‚úÖ                                     ‚îÇ
‚îÇ      ‚îÇ                                                           ‚îÇ
‚îÇ      ‚îú‚îÄ‚îÄ 4a. –ü–æ–≤—Ç–æ—Ä–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—ñ                 ‚îÇ
‚îÇ      ‚îÇ                                                           ‚îÇ
‚îÇ      ‚îú‚îÄ‚îÄ 4b. –ê—Ç–æ–º–∞—Ä–Ω–∏–π –¥–µ–∫—Ä–µ–º–µ–Ω—Ç stock –∑ WHERE stock >= qty ‚úÖ ‚îÇ
‚îÇ      ‚îÇ       (–ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ race condition)                         ‚îÇ
‚îÇ      ‚îÇ                                                           ‚îÇ
‚îÇ      ‚îú‚îÄ‚îÄ 4c. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Transaction                              ‚îÇ
‚îÇ      ‚îÇ                                                           ‚îÇ
‚îÇ      ‚îî‚îÄ‚îÄ 4d. –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–ª—ñ—î–Ω—Ç–∞ (—è–∫—â–æ paid)           ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  5. Return result                                                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## 5. –°—Ç–∞—Ç—É—Å –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º

### ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û

| # | –ü—Ä–æ–±–ª–µ–º–∞ | –°—Ç–∞—Ç—É—Å | –ú—ñ—Å—Ü–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è |
|---|----------|--------|-------------------|
| 1 | **–í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π –ë–î** | ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û | `backend/src/api/pos/services/pos.ts` - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Knex transactions |
| 2 | **Race condition –ø—Ä–∏ checkout** | ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û | –ê—Ç–æ–º–∞—Ä–Ω–∏–π UPDATE –∑ `WHERE stock >= qty` |
| 3 | **POS –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ –±–µ–∑ auth** | ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û | `pos-auth` middleware –Ω–∞ –≤—Å—ñ—Ö POS routes |
| 4 | **–ù–µ–º–∞—î –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó stock –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ** | ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û | `admin-client.tsx:381-405` - addToCart() |

### –î–µ—Ç–∞–ª—ñ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å

**–¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó –ë–î (pos.ts:229-332):**
```typescript
const result = await knex.transaction(async (trx) => {
  // –ü–æ–≤—Ç–æ—Ä–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—ñ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó
  const existingInTrx = await trx('transactions')
    .where('operation_id', data.operationId)
    .first();

  if (existingInTrx) return { success: true, idempotent: true, data: existingInTrx };

  // –ê—Ç–æ–º–∞—Ä–Ω–∏–π –¥–µ–∫—Ä–µ–º–µ–Ω—Ç –∑ –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é stock
  for (const item of data.items) {
    const updated = await trx('variants')
      .where('id', variant.id)
      .andWhere('stock', '>=', item.qty)  // ‚úÖ –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ race condition
      .update({ stock: trx.raw('stock - ?', [item.qty]) });

    if (updated === 0) {
      throw new Error(`RACE_CONDITION:${item.name}:...`);
    }
  }

  // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó —Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞ - –≤—Å–µ –≤ –æ–¥–Ω—ñ–π –ë–î —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó
  // ...
});
```

**POS Auth Middleware (pos-auth.ts):**
```typescript
// backend/src/api/pos/routes/pos.ts
export default {
  routes: [
    {
      method: 'POST',
      path: '/pos/sales',
      handler: 'pos.createSale',
      config: {
        middlewares: ['api::pos.pos-auth'],  // ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
      },
    },
    // ...
  ],
};
```

---

## 6. –ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ

### POS –¢–µ—Ä–º—ñ–Ω–∞–ª
| –§—É–Ω–∫—Ü—ñ—è | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º—ñ—Ç–∫–∏ |
|---------|--------|----------|
| –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∫–∞—Ç–∞–ª–æ–≥—É | ‚úÖ –ü—Ä–∞—Ü—é—î | Responsive grid |
| –ü–æ—à—É–∫ —Ç–æ–≤–∞—Ä—ñ–≤ | ‚úÖ –ü—Ä–∞—Ü—é—î | –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ |
| –î–æ–¥–∞–≤–∞–Ω–Ω—è –¥–æ –∫–æ—à–∏–∫–∞ | ‚úÖ –ü—Ä–∞—Ü—é—î | –ó –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é stock |
| –ó–º—ñ–Ω–∞ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ | ‚úÖ –ü—Ä–∞—Ü—é—î | –ó –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é stock |
| –í–∏–±—ñ—Ä –∫–ª—ñ—î–Ω—Ç–∞ | ‚úÖ –ü—Ä–∞—Ü—é—î | –ú–æ–¥–∞–ª–∫–∞ –¥–ª—è >5 –∫–ª—ñ—î–Ω—Ç—ñ–≤ |
| –°—Ç–∞—Ç—É—Å –æ–ø–ª–∞—Ç–∏ | ‚úÖ –ü—Ä–∞—Ü—é—î | paid/expected |
| –ö–æ–º–µ–Ω—Ç–∞—Ä | ‚úÖ –ü—Ä–∞—Ü—é—î | –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π |
| Checkout | ‚úÖ –ü—Ä–∞—Ü—é—î | –ê—Ç–æ–º–∞—Ä–Ω–∏–π –∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è–º–∏ |

### –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–æ–≤–∞—Ä–∞–º–∏
| –§—É–Ω–∫—Ü—ñ—è | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º—ñ—Ç–∫–∏ |
|---------|--------|----------|
| –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä—ñ–≤ | ‚úÖ –ü—Ä–∞—Ü—é—î | |
| –î–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–æ–≤–∞—Ä—É | ‚úÖ –ü—Ä–∞—Ü—é—î | –ó –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è |
| –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è | ‚úÖ –ü—Ä–∞—Ü—é—î | –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è, –æ–ø–∏—Å, –≤–∞—Ä—ñ–∞–Ω—Ç–∏ |
| –í–∏–¥–∞–ª–µ–Ω–Ω—è –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ | ‚úÖ –ü—Ä–∞—Ü—é—î | –õ–æ–≥—É–≤–∞–Ω–Ω—è |
| –°–ø–∏—Å–∞–Ω–Ω—è | ‚úÖ –ü—Ä–∞—Ü—é—î | –ê—Ç–æ–º–∞—Ä–Ω–µ |
| Excel —ñ–º–ø–æ—Ä—Ç | ‚úÖ –ü—Ä–∞—Ü—é—î | dryRun —Ä–µ–∂–∏–º |

### –ö–ª—ñ—î–Ω—Ç–∏
| –§—É–Ω–∫—Ü—ñ—è | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º—ñ—Ç–∫–∏ |
|---------|--------|----------|
| –°–ø–∏—Å–æ–∫ –∫–ª—ñ—î–Ω—Ç—ñ–≤ | ‚úÖ –ü—Ä–∞—Ü—é—î | |
| –ü–æ—à—É–∫ | ‚úÖ –ü—Ä–∞—Ü—é—î | –ó–∞ —ñ–º'—è–º, —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º, email, –∞–¥—Ä–µ—Å–æ—é |
| –Ü—Å—Ç–æ—Ä—ñ—è –∑–∞–º–æ–≤–ª–µ–Ω—å | ‚úÖ –ü—Ä–∞—Ü—é—î | –ú–æ–¥–∞–ª–∫–∞ –∑ –¥–µ—Ç–∞–ª—è–º–∏ |
| –î–æ–¥–∞–≤–∞–Ω–Ω—è | ‚úÖ –ü—Ä–∞—Ü—é—î | |
| –í–∏–¥–∞–ª–µ–Ω–Ω—è | ‚úÖ –ü—Ä–∞—Ü—é—î | –ó –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è–º |
| –ï–∫—Å–ø–æ—Ä—Ç | ‚úÖ –ü—Ä–∞—Ü—é—î | Excel |

### –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞
| –§—É–Ω–∫—Ü—ñ—è | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º—ñ—Ç–∫–∏ |
|---------|--------|----------|
| Dashboard | ‚úÖ –ü—Ä–∞—Ü—é—î | –ü—Ä–æ–¥–∞–∂—ñ, —Å–µ—Ä–µ–¥–Ω—ñ–π —á–µ–∫, —Ç–æ–ø —Ç–æ–≤–∞—Ä–∏ |
| –ì—Ä–∞—Ñ—ñ–∫–∏ | ‚úÖ –ü—Ä–∞—Ü—é—î | |
| –ï–∫—Å–ø–æ—Ä—Ç | ‚úÖ –ü—Ä–∞—Ü—é—î | Excel |

### –Ü—Å—Ç–æ—Ä—ñ—è –∑–º—ñ–Ω–∏
| –§—É–Ω–∫—Ü—ñ—è | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º—ñ—Ç–∫–∏ |
|---------|--------|----------|
| –°–ø–∏—Å–æ–∫ –¥—ñ–π | ‚úÖ –ü—Ä–∞—Ü—é—î | |
| Multi-device sync | ‚úÖ –ü—Ä–∞—Ü—é—î | Polling 30—Å |
| –ó–∞–∫—Ä–∏—Ç—Ç—è –∑–º—ñ–Ω–∏ | ‚úÖ –ü—Ä–∞—Ü—é—î | –ê—Ä—Ö—ñ–≤—É–≤–∞–Ω–Ω—è |
| –ï–∫—Å–ø–æ—Ä—Ç | ‚úÖ –ü—Ä–∞—Ü—é—î | Excel |

### –ó–∞–≤–¥–∞–Ω–Ω—è (TODO)
| –§—É–Ω–∫—Ü—ñ—è | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º—ñ—Ç–∫–∏ |
|---------|--------|----------|
| CRUD –∑–∞–≤–¥–∞–Ω—å | ‚úÖ –ü—Ä–∞—Ü—é—î | |
| –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó | ‚úÖ –ü—Ä–∞—Ü—é—î | 5 –∫–∞—Ç–µ–≥–æ—Ä—ñ–π |
| –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∏ | ‚úÖ –ü—Ä–∞—Ü—é—î | 3 —Ä—ñ–≤–Ω—ñ |
| –°—Ç–∞—Ç—É—Å–∏ | ‚úÖ –ü—Ä–∞—Ü—é—î | pending/in_progress/completed/cancelled |
| –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è | ‚úÖ –ü—Ä–∞—Ü—é—î | –ó–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—î—é —Ç–∞ —Å—Ç–∞—Ç—É—Å–æ–º |
| –ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è | ‚ö†Ô∏è –ß–∞—Å—Ç–∫–æ–≤–æ | UI —î, –∞–ª–µ notification API –Ω–µ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–æ |

---

## 7. –ó–∞–ª–∏—à–∫–æ–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏ —Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

### 7.1 –°–µ—Ä–µ–¥–Ω—ñ–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç

| # | –ü—Ä–æ–±–ª–µ–º–∞ | –ú—ñ—Å—Ü–µ | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è |
|---|----------|-------|--------------|
| 1 | TodoSection –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î console.log –∑–∞–º—ñ—Å—Ç—å toast | `todo-section.tsx:51-54` | –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ useAlerts hook |
| 2 | –ü–∞—Ä–∞–ª–µ–ª—å–Ω—ñ –∑–∞–ø–∏—Ç–∏ –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π –∫–ª—ñ—î–Ω—Ç—ñ–≤ | `clients-section.tsx:170-248` | –°—Ç–≤–æ—Ä–∏—Ç–∏ batch endpoint |
| 3 | –ù–µ–º–∞—î –ø–∞–≥—ñ–Ω–∞—Ü—ñ—ó –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö –∫–∞—Ç–∞–ª–æ–≥—ñ–≤ | `products-section.tsx` | –î–æ–¥–∞—Ç–∏ infinite scroll –∞–±–æ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—é |
| 4 | –ù–µ–º–∞—î retry –ª–æ–≥—ñ–∫–∏ | `lib/strapi.ts` | –î–æ–¥–∞—Ç–∏ retry –¥–ª—è –º–µ—Ä–µ–∂–µ–≤–∏—Ö –ø–æ–º–∏–ª–æ–∫ |

### 7.2 –ù–∏–∑—å–∫–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç (–ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è UX)

| # | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è | –û–ø–∏—Å |
|---|--------------|------|
| 1 | Offline mode –¥–ª—è POS | Service Worker + IndexedDB –¥–ª—è —Ä–æ–±–æ—Ç–∏ –±–µ–∑ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É |
| 2 | Real-time –æ–Ω–æ–≤–ª–µ–Ω–Ω—è stock | WebSocket –∞–±–æ SSE –¥–ª—è –º–∏—Ç—Ç—î–≤–∏—Ö –æ–Ω–æ–≤–ª–µ–Ω—å |
| 3 | Browser notifications | –î–ª—è –Ω–∞–≥–∞–¥—É–≤–∞–Ω—å –∑–∞–≤–¥–∞–Ω—å |
| 4 | Keyboard shortcuts | –î–ª—è —à–≤–∏–¥–∫–æ–≥–æ –Ω–∞–≤—ñ–≥—É–≤–∞–Ω–Ω—è –≤ POS |

### 7.3 –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è TodoSection toast

**–ü–æ—Ç–æ—á–Ω–∏–π –∫–æ–¥ (–ø—Ä–æ–±–ª–µ–º–∞):**
```typescript
// todo-section.tsx:51-54
const toast = {
  success: (msg: string) => console.log(`[SUCCESS] ${msg}`),
  error: (msg: string) => console.error(`[ERROR] ${msg}`),
};
```

**–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
```typescript
// –ü–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç–∏ showSuccess, showError –∑ admin-client.tsx —è–∫ props
// –ê–±–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è alerts
```

---

## 8. –ë–µ–∑–ø–µ–∫–∞

### 8.1 –ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω

| –ê—Å–ø–µ–∫—Ç | –°—Ç–∞—Ç—É—Å | –î–µ—Ç–∞–ª—ñ |
|--------|--------|--------|
| POS –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è | ‚úÖ | middleware `pos-auth` |
| JWT —Ç–æ–∫–µ–Ω–∏ | ‚úÖ | –ó–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ localStorage + cookies |
| CORS | ‚úÖ | –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –≤ Strapi |
| Input validation | ‚úÖ | –ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ (Strapi) |
| –Ü–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å | ‚úÖ | operationId –¥–ª—è –∑–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤ |
| SQL injection | ‚úÖ | Strapi ORM –∑–∞—Ö–∏—â–∞—î |
| XSS | ‚úÖ | React –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ escapes |

### 8.2 –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

| –†—ñ–≤–µ–Ω—å | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è | –°—Ç–∞—Ç—É—Å |
|--------|--------------|--------|
| üü° –°–µ—Ä–µ–¥–Ω—ñ–π | –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ httpOnly cookies –∑–∞–º—ñ—Å—Ç—å localStorage | –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ |
| üü° –°–µ—Ä–µ–¥–Ω—ñ–π | –î–æ–¥–∞—Ç–∏ rate limiting –Ω–∞ API | –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è MVP |
| üü¢ –ù–∏–∑—å–∫–∏–π | Audit logging –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π | –î–ª—è compliance |

---

## 9. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø–µ—Ä–µ–¥ —Ä–µ–ª—ñ–∑–æ–º

### 9.1 –ß–µ–∫-–ª–∏—Å—Ç —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

#### POS –¢–µ—Ä–º—ñ–Ω–∞–ª
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –∑ –∫—ñ–ª—å–∫–æ–º–∞ —Ç–æ–≤–∞—Ä–∞–º–∏
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–º–µ–Ω—à–µ–Ω–Ω—è stock –ø—ñ—Å–ª—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- [ ] –°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –¥–æ–¥–∞—Ç–∏ –±—ñ–ª—å—à–µ —Ç–æ–≤–∞—Ä—É –Ω—ñ–∂ —î –Ω–∞ —Å–∫–ª–∞–¥—ñ
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –∑—ñ —Å—Ç–∞—Ç—É—Å–æ–º "–û—á—ñ–∫—É—î—Ç—å—Å—è –æ–ø–ª–∞—Ç–∞"
- [ ] –ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –æ–ø–ª–∞—Ç—É –¥–ª—è –æ—á—ñ–∫—É–≤–∞–Ω–æ–≥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è

#### –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–æ–≤–∞—Ä–∞–º–∏
- [ ] –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π —Ç–æ–≤–∞—Ä –∑ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º
- [ ] –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ —ñ—Å–Ω—É—é—á–∏–π —Ç–æ–≤–∞—Ä (–∑–º—ñ–Ω–∏—Ç–∏ –æ–ø–∏—Å, —Ü—ñ–Ω—É)
- [ ] –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –¥–æ —Ç–æ–≤–∞—Ä—É
- [ ] –í–∏–¥–∞–ª–∏—Ç–∏ –≤–∞—Ä—ñ–∞–Ω—Ç
- [ ] –°–ø–∏—Å–∞—Ç–∏ —Ç–æ–≤–∞—Ä (–ø—Ä–∏—á–∏–Ω–∞: –ø–æ—à–∫–æ–¥–∂–µ–Ω–Ω—è)
- [ ] –Ü–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ Excel —Ñ–∞–π–ª (dryRun —Ä–µ–∂–∏–º)
- [ ] –Ü–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ Excel —Ñ–∞–π–ª (—Ä–µ–∞–ª—å–Ω–∏–π —ñ–º–ø–æ—Ä—Ç)

#### –ö–ª—ñ—î–Ω—Ç–∏
- [ ] –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–æ–≥–æ –∫–ª—ñ—î–Ω—Ç–∞
- [ ] –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é –∑–∞–º–æ–≤–ª–µ–Ω—å –∫–ª—ñ—î–Ω—Ç–∞
- [ ] –í–∏–¥–∞–ª–∏—Ç–∏ –∫–ª—ñ—î–Ω—Ç–∞
- [ ] –ï–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –∫–ª—ñ—î–Ω—Ç—ñ–≤

#### –Ü—Å—Ç–æ—Ä—ñ—è –∑–º—ñ–Ω–∏
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –≤—Å—ñ –¥—ñ—ó –ª–æ–≥—É—é—Ç—å—Å—è (–ø—Ä–æ–¥–∞–∂, —Å–ø–∏—Å–∞–Ω–Ω—è, –∫–ª—ñ—î–Ω—Ç)
- [ ] –ó–∞–∫—Ä–∏—Ç–∏ –∑–º—ñ–Ω—É
- [ ] –ï–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –∑–≤—ñ—Ç –∑–º—ñ–Ω–∏

#### –ó–∞–≤–¥–∞–Ω–Ω—è
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä—ñ–π
- [ ] –ó–º—ñ–Ω–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å –∑–∞–≤–¥–∞–Ω–Ω—è (–û—á—ñ–∫—É—î ‚Üí –í —Ä–æ–±–æ—Ç—ñ ‚Üí –í–∏–∫–æ–Ω–∞–Ω–æ)
- [ ] –í–∏–¥–∞–ª–∏—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—é –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—î—é

### 9.2 Edge cases –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

- [ ] –î–≤—ñ—á—ñ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∏ –∫–Ω–æ–ø–∫—É "–û—Ñ–æ—Ä–º–∏—Ç–∏" (—ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å)
- [ ] –û–¥–Ω–æ—á–∞—Å–Ω–æ –æ—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –∑ –¥–≤–æ—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤ –Ω–∞ –æ–¥–∏–Ω —Ç–æ–≤–∞—Ä
- [ ] –Ü–º–ø–æ—Ä—Ç Excel –∑ –¥—É–±–ª—ñ–∫–∞—Ç–∞–º–∏
- [ ] –í–∏–¥–∞–ª–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞ –∑ —ñ—Å—Ç–æ—Ä—ñ—î—é –∑–∞–º–æ–≤–ª–µ–Ω—å
- [ ] –°–ø–∏—Å–∞–Ω–Ω—è –±—ñ–ª—å—à–µ –Ω—ñ–∂ —î –Ω–∞ —Å–∫–ª–∞–¥—ñ

### 9.3 –ú–æ–±—ñ–ª—å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

- [ ] POS —Ç–µ—Ä–º—ñ–Ω–∞–ª –Ω–∞ –º–æ–±—ñ–ª—å–Ω–æ–º—É (grid view, cart drawer)
- [ ] –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–æ–≤–∞—Ä–∞–º–∏ –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç—ñ
- [ ] –Ü—Å—Ç–æ—Ä—ñ—è –∑–∞–º–æ–≤–ª–µ–Ω—å –∫–ª—ñ—î–Ω—Ç–∞ –≤ –º–æ–¥–∞–ª—Ü—ñ
- [ ] Sidebar navigation

---

## 10. –ü—ñ–¥—Å—É–º–æ–∫ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ –¥–æ –ø—Ä–æ–¥–∞–∫—à–Ω—É

### –©–æ –ø—Ä–∞—Ü—é—î –¥–æ–±—Ä–µ ‚úÖ

1. **–ê—Ç–æ–º–∞—Ä–Ω—ñ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü—ñ–π** - Knex —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó –¥–ª—è POS
2. **–ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ race condition** - –∞—Ç–æ–º–∞—Ä–Ω–∏–π –¥–µ–∫—Ä–µ–º–µ–Ω—Ç stock
3. **–Ü–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å** - operationId –∑–∞–ø–æ–±—ñ–≥–∞—î –¥—É–±–ª—ñ–∫–∞—Ç–∞–º
4. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è POS** - middleware –Ω–∞ –≤—Å—ñ—Ö –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∞—Ö
5. **–í–∞–ª—ñ–¥–∞—Ü—ñ—è stock –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ** - –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
6. **Responsive UI** - –ø—Ä–∞—Ü—é—î –Ω–∞ desktop —Ç–∞ mobile
7. **Multi-device sync** - polling –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –∑–º—ñ–Ω
8. **Activity logging** - –ø–æ–≤–Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—è –¥—ñ–π
9. **TypeScript** - —Å–∏–ª—å–Ω–∞ —Ç–∏–ø—ñ–∑–∞—Ü—ñ—è

### –©–æ –ø–æ—Ç—Ä–µ–±—É—î —É–≤–∞–≥–∏ ‚ö†Ô∏è (–Ω–µ–∫—Ä–∏—Ç–∏—á–Ω–æ)

1. **TodoSection toast** - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î console.log
2. **–ü–∞–≥—ñ–Ω–∞—Ü—ñ—è** - –º–æ–∂–µ –±—É—Ç–∏ –ø—Ä–æ–±–ª–µ–º–∞ –∑ –≤–µ–ª–∏–∫–∏–º –∫–∞—Ç–∞–ª–æ–≥–æ–º (>500 —Ç–æ–≤–∞—Ä—ñ–≤)
3. **Retry –ª–æ–≥—ñ–∫–∞** - –Ω–µ–º–∞—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏—Ö –ø–æ–≤—Ç–æ—Ä—ñ–≤ –ø—Ä–∏ –ø–æ–º–∏–ª–∫–∞—Ö –º–µ—Ä–µ–∂—ñ

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è

**‚úÖ –ì–û–¢–û–í–û –î–û –†–ï–õ–Ü–ó–£**

–ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å –≥–æ—Ç–æ–≤–∞ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ –ø—Ä–æ–¥–∞–∫—à–Ω—ñ. –í—Å—ñ –∫—Ä–∏—Ç–∏—á–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ:
- –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó –ë–î –∑–∞–±–µ–∑–ø–µ—á—É—é—Ç—å —Ü—ñ–ª—ñ—Å–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö
- Race condition –∑–∞—Ö–∏—Å—Ç –ø—Ä–∞—Ü—é—î
- POS –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ –∑–∞—Ö–∏—â–µ–Ω—ñ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—î—é
- –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è stock –ø—Ä–∞—Ü—é—î

–ó–∞–ª–∏—à–∫–æ–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏ —î –Ω–µ–∫—Ä–∏—Ç–∏—á–Ω–∏–º–∏ —ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ –≤ –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö —ñ—Ç–µ—Ä–∞—Ü—ñ—è—Ö.

---

*–î–æ–∫—É–º–µ–Ω—Ç –æ–Ω–æ–≤–ª–µ–Ω–æ: 2025-12-26*
*–ê–≤—Ç–æ—Ä: Claude Code Analysis*
