# –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è Strapi CMS - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

## –ó–º—ñ–Ω–∏ –≤ –ø—Ä–æ–µ–∫—Ç—ñ

### 1. Backend (Strapi v5.33.0)

#### –°—Ç–≤–æ—Ä–µ–Ω—ñ —Ñ–∞–π–ª–∏:
- `backend/src/bootstrap.ts` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –Ω–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–ø—É—Å–∫—É
- `backend/SEED_README.md` - –î–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø–æ seed –ø—Ä–æ—Ü–µ—Å—É

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∏—Ö:

**–ö–æ–ª–µ–∫—Ü—ñ—è: Flower (–ö–≤—ñ—Ç–∫–∞)**
- `name` (string) - –ù–∞–∑–≤–∞ –∫–≤—ñ—Ç–∫–∏
- `slug` (uid) - –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä
- `description` (blocks) - –û–ø–∏—Å —É —Ñ–æ—Ä–º–∞—Ç—ñ Strapi Blocks
- `image` (media) - –§–æ—Ç–æ –∫–≤—ñ—Ç–∫–∏
- `variants` (relation: oneToMany) - –ó–≤'—è–∑–æ–∫ –∑ –≤–∞—Ä—ñ–∞–Ω—Ç–∞–º–∏

**–ö–æ–ª–µ–∫—Ü—ñ—è: Variant (–í–∞—Ä—ñ–∞–Ω—Ç)**
- `length` (integer) - –î–æ–≤–∂–∏–Ω–∞ —Å—Ç–µ–±–ª–∞ (—Å–º)
- `stock` (integer) - –ö—ñ–ª—å–∫—ñ—Å—Ç—å –Ω–∞ —Å–∫–ª–∞–¥—ñ
- `price` (decimal) - –¶—ñ–Ω–∞
- `flower` (relation: manyToOne) - –ó–≤'—è–∑–æ–∫ –∑ –∫–≤—ñ—Ç–∫–æ—é

#### –î–∞–Ω—ñ:
- **17 –≤–∏–¥—ñ–≤ –∫–≤—ñ—Ç—ñ–≤** –∑ —Ä—ñ–∑–Ω–∏–º–∏ –≤–∞—Ä—ñ–∞–Ω—Ç–∞–º–∏
- **41 –≤–∞—Ä—ñ–∞–Ω—Ç** –∑ —Ä—ñ–∑–Ω–∏–º–∏ –¥–æ–≤–∂–∏–Ω–∞–º–∏ —Ç–∞ —Ü—ñ–Ω–∞–º–∏
- –í—Å—ñ –∑–∞–ø–∏—Å–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—É–±–ª—ñ–∫—É—é—Ç—å—Å—è

### 2. Frontend (Next.js 16)

#### –°—Ç–≤–æ—Ä–µ–Ω—ñ —Ñ–∞–π–ª–∏:
- `frontend/lib/strapi.ts` - API –∫–ª—ñ—î–Ω—Ç –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑ Strapi
- `frontend/lib/strapi-types.ts` - TypeScript —Ç–∏–ø–∏ –¥–ª—è Strapi API
- `frontend/.env.local` - –ó–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è
- `frontend/app/catalog/catalog-client.tsx` - –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞—Ç–∞–ª–æ–≥—É

#### –û–Ω–æ–≤–ª–µ–Ω—ñ —Ñ–∞–π–ª–∏:
- `frontend/app/catalog/page.tsx` - –¢–µ–ø–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Server Components –¥–ª—è SSR

#### API —Ñ—É–Ω–∫—Ü—ñ—ó:
- `getFlowers()` - –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –∫–≤—ñ—Ç–∏
- `getFlowerBySlug(slug)` - –û—Ç—Ä–∏–º–∞—Ç–∏ –∫–≤—ñ—Ç–∫—É –∑–∞ slug
- `getFlowerById(id)` - –û—Ç—Ä–∏–º–∞—Ç–∏ –∫–≤—ñ—Ç–∫—É –∑–∞ ID
- `searchFlowers(query)` - –ü–æ—à—É–∫ –∫–≤—ñ—Ç—ñ–≤ –∑–∞ –Ω–∞–∑–≤–æ—é
- `getFlowerDetails(slug)` - –û—Ç—Ä–∏–º–∞—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –∑ –æ–ø–∏—Å–æ–º

## –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –ø–æ –∑–∞–ø—É—Å–∫—É

### –ö—Ä–æ–∫ 1: –ó–∞–ø—É—Å–∫ Backend (Strapi)

```bash
cd backend

# –Ø–∫—â–æ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –ø–æ—Ä–æ–∂–Ω—è, –≤–∏–¥–∞–ª—ñ—Ç—å —ó—ó –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ seed
rm -f .tmp/data.db

# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ (—è–∫—â–æ —â–µ –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ)
yarn install

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å Strapi
yarn develop
```

–ü—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–ø—É—Å–∫—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
- –°—Ç–≤–æ—Ä—è—Ç—å—Å—è —Ç–∞–±–ª–∏—Ü—ñ –≤ –±–∞–∑—ñ SQLite
- –ó–∞–ø–æ–≤–Ω—è—Ç—å—Å—è –¥–∞–Ω—ñ –∑ 17 –∫–≤—ñ—Ç–∫–∞–º–∏ —Ç–∞ 41 –≤–∞—Ä—ñ–∞–Ω—Ç–æ–º
- –í—Å—ñ –∑–∞–ø–∏—Å–∏ –±—É–¥—É—Ç—å –æ–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω—ñ

–í–∏ –ø–æ–±–∞—á–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª—ñ:
```
üì¶ Starting database seed...
‚úÖ Created flower: –¢—Ä–æ—è–Ω–¥–∞ —á–µ—Ä–≤–æ–Ω–∞
‚úÖ Created flower: –¢—Ä–æ—è–Ω–¥–∞ –±—ñ–ª–∞
...
‚ú® Seed completed! Created 17 flowers with variants.
```

#### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞–¥–º—ñ–Ω-–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ `http://localhost:1337/admin`
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –∞–¥–º—ñ–Ω-–∞–∫–∞—É–Ω—Ç
3. –£–≤—ñ–π–¥—ñ—Ç—å –≤ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å

#### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É –¥–æ API:
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ **Settings** ‚Üí **Users & Permissions plugin** ‚Üí **Roles**
2. –í–∏–±–µ—Ä—ñ—Ç—å **Public**
3. –î–∞–π—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ **find** —Ç–∞ **findOne** –¥–ª—è –∫–æ–ª–µ–∫—Ü—ñ–π:
   - ‚úÖ Flower: find, findOne
   - ‚úÖ Variant: find, findOne
4. –ó–±–µ—Ä–µ–∂—ñ—Ç—å

### –ö—Ä–æ–∫ 2: –ó–∞–ø—É—Å–∫ Frontend (Next.js)

```bash
cd frontend

# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ (—è–∫—â–æ —â–µ –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ)
yarn install

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ñ–∞–π–ª .env.local
# –ú–∞—î –±—É—Ç–∏: NEXT_PUBLIC_STRAPI_URL=http://localhost:1337

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å frontend
yarn dev
```

Frontend –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞ –∞–¥—Ä–µ—Å–æ—é: `http://localhost:3000`

### –ö—Ä–æ–∫ 3: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∏

1. **Backend –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞:**
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å: `http://localhost:1337/admin`
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ —î –∫–≤—ñ—Ç–∏ –≤ **Content Manager** ‚Üí **Flower**
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ API: `http://localhost:1337/api/flowers?populate=variants`

2. **Frontend –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞:**
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ —Å–∞–π—Ç: `http://localhost:3000`
   - –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ **–ö–∞—Ç–∞–ª–æ–≥**: `http://localhost:3000/catalog`
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è —Ä–µ–∞–ª—å–Ω—ñ –∫–≤—ñ—Ç–∏ –∑ Strapi
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø–æ—à—É–∫ —Ç–∞ —Ñ—ñ–ª—å—Ç—Ä–∏

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ API endpoints

### Strapi REST API:

```
GET /api/flowers
- –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –∫–≤—ñ—Ç–∏

GET /api/flowers?populate=variants
- –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –∫–≤—ñ—Ç–∏ –∑ –≤–∞—Ä—ñ–∞–Ω—Ç–∞–º–∏

GET /api/flowers?filters[slug][$eq]=troianda-chervona&populate=variants
- –û—Ç—Ä–∏–º–∞—Ç–∏ –∫–≤—ñ—Ç–∫—É –∑–∞ slug

GET /api/flowers?filters[name][$containsi]=—Ç—Ä–æ—è–Ω–¥–∞&populate=variants
- –ü–æ—à—É–∫ –∫–≤—ñ—Ç—ñ–≤ –∑–∞ –Ω–∞–∑–≤–æ—é

GET /api/variants
- –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏

GET /api/variants?populate=flower
- –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –∑ –∫–≤—ñ—Ç–∫–∞–º–∏
```

## –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö

Frontend –æ—á—ñ–∫—É—î —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
```typescript
type Product = {
  id: string;
  name: string;
  image: string;
  variants: Variant[];
};

type Variant = {
  size: string;  // "50 —Å–º"
  price: number;
  stock: number;
};
```

Strapi –ø–æ–≤–µ—Ä—Ç–∞—î:
```typescript
type StrapiFlower = {
  id: number;
  name: string;
  slug: string;
  image: StrapiImage | null;
  variants: StrapiVariant[];
};

type StrapiVariant = {
  length: number;  // 50
  price: number;
  stock: number;
};
```

API –∫–ª—ñ—î–Ω—Ç (`lib/strapi.ts`) –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç—É—î –¥–∞–Ω—ñ –∑ Strapi —É —Ñ–æ—Ä–º–∞—Ç —è–∫–∏–π –æ—á—ñ–∫—É—î frontend:
- `slug` ‚Üí `id`
- `length` ‚Üí `size` (–∑ –¥–æ–¥–∞–≤–∞–Ω–Ω—è–º " —Å–º")
- `image.url` ‚Üí `image`

## Troubleshooting

### Backend issues:

**–ü—Ä–æ–±–ª–µ–º–∞:** Seed –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è
- **–†—ñ—à–µ–Ω–Ω—è:** –í–∏–¥–∞–ª—ñ—Ç—å –±–∞–∑—É –¥–∞–Ω–∏—Ö `rm -f backend/.tmp/data.db` —Ç–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å

**–ü—Ä–æ–±–ª–µ–º–∞:** API –ø–æ–≤–µ—Ä—Ç–∞—î 403 Forbidden
- **–†—ñ—à–µ–Ω–Ω—è:** –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –ø—É–±–ª—ñ—á–Ω–∏–π –¥–æ—Å—Ç—É–ø –≤ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ (–¥–∏–≤. –ö—Ä–æ–∫ 1)

**–ü—Ä–æ–±–ª–µ–º–∞:** –î—É–±–ª—ñ–∫–∞—Ç–∏ –∑–∞–ø–∏—Å—ñ–≤
- **–†—ñ—à–µ–Ω–Ω—è:** Seed –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ –±–∞–∑–∞ –ø–æ—Ä–æ–∂–Ω—è. –í–∏–¥–∞–ª—ñ—Ç—å –¥–∞–Ω—ñ –≤—Ä—É—á–Ω—É —á–µ—Ä–µ–∑ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å

### Frontend issues:

**–ü—Ä–æ–±–ª–µ–º–∞:** –î–∞–Ω—ñ –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è
- **–†—ñ—à–µ–Ω–Ω—è 1:** –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ Strapi –∑–∞–ø—É—â–µ–Ω–∏–π –Ω–∞ `http://localhost:1337`
- **–†—ñ—à–µ–Ω–Ω—è 2:** –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `.env.local` —Ñ–∞–π–ª
- **–†—ñ—à–µ–Ω–Ω—è 3:** –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –¥–æ—Å—Ç—É–ø –¥–æ API (403 –ø–æ–º–∏–ª–∫–∞ = –Ω–µ–º–∞—î –ø—Ä–∞–≤)

**–ü—Ä–æ–±–ª–µ–º–∞:** 404 –Ω–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
- **–†—ñ—à–µ–Ω–Ω—è:** –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤—Ä—É—á–Ω—É —á–µ—Ä–µ–∑ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å Strapi

## –©–æ –¥–∞–ª—ñ

### –î–æ–¥–∞—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è:
1. –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∫–≤—ñ—Ç—ñ–≤ –≤ Strapi Media Library
2. –ü—Ä–∏–≤'—è–∂—ñ—Ç—å —ó—Ö –¥–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏—Ö –∫–≤—ñ—Ç—ñ–≤ –≤ Content Manager
3. Frontend –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥–æ–±—Ä–∞–∑–∏—Ç—å —ó—Ö

### –û–Ω–æ–≤–∏—Ç–∏ —ñ–Ω—à—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏:
–ù–∞—Ä–∞–∑—ñ –æ–Ω–æ–≤–ª–µ–Ω–∞ —Ç—ñ–ª—å–∫–∏ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ `/catalog`. –Ü–Ω—à—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –¥–æ—Å—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –º–æ–∫–æ–≤—ñ –¥–∞–Ω—ñ:
- `/` - –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
- `/catalog/[id]` - –°—Ç–æ—Ä—ñ–Ω–∫–∞ –¥–µ—Ç–∞–ª–µ–π —Ç–æ–≤–∞—Ä—É
- `/admin` - –ê–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å (POS —Ç–µ—Ä–º—ñ–Ω–∞–ª)
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏: `ProductCard`, `FeaturedProducts`, —Ç–æ—â–æ

–î–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ç–æ–π —Å–∞–º–∏–π –ø—ñ–¥—Ö—ñ–¥:
1. –ó–º—ñ–Ω—ñ—Ç—å —ñ–º–ø–æ—Ä—Ç –∑ `@/lib/mock-data` –Ω–∞ `@/lib/strapi`
2. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó API
3. –î–ª—è client components —Å—Ç–≤–æ—Ä—é–π—Ç–µ –æ–∫—Ä–µ–º—ñ —Ñ–∞–π–ª–∏ —è–∫ —É catalog

### –î–æ–¥–∞—Ç–∏ –Ω–æ–≤—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó:
- –ö–ª—ñ—î–Ω—Ç–∏ (Clients)
- –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è (Orders)
- –ë–ª–æ–≥-–ø–æ—Å—Ç–∏ (Blog Posts)

## –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è

- [Strapi Documentation](https://docs.strapi.io/)
- [Strapi v5 Migration Guide](https://docs.strapi.io/dev-docs/migration/v4-to-v5)
- [Next.js Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components)
- [Strapi REST API](https://docs.strapi.io/dev-docs/api/rest)
